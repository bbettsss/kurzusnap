#Faktor változóknál: table, plot
table(mba$Gender)
install.packages("readxl")
library(readxl)
mba <- read_excel("MBA.xlsx")
#Faktor változóknál: table, plot
table(mba$Gender)
plot(mba$Gender)
#ez szöveg, ha nincs hashtag akkor kód lesz
setwd("/Users/betts.belenyesi/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/2.félév/ökonometria")
#/-re kell cserélni
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
#Faktor változóknál: table, plot
table(mba$Gender)
plot(mba$Gender)
house <- house %>%
rename(negyzetmeter = Square_Footage, ar = House_Price)
house <- read.csv("house_data.csv")
house <- house %>%
rename(negyzetmeter = Square_Footage, ar = House_Price)
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
library(dplyr)
library(ggplot2)
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
#ez szöveg, ha nincs hashtag akkor kód lesz
setwd("/Users/betts.belenyesi/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/2.félév/ökonometria")
#/-re kell cserélni
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
install.packages("ggplot2")
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
library(esquisse)
install.packages("esquisse")
house <- house %>%
mutate(negyzetmeterar = ar/negyzetmeter)
house <- house %>%
mutate(negyzetmeterar = ar/negyzetmeter)
```{r}
```{r}
View(house)
hist(house$negyzetmeterar)
#Faktor változóknál: table, plot
table(mba$Gender)
plot(mba$Gender)
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
library(esquisse)
az install-al packageket lehet hozzáadni az R-hez, viszont utána ha ezeket szeretnénk használni az egyes projekteknél akkor library zárójellel lehet hozázáadni az adott projekthez - ezt oldal a packages alfülnél is meg lehet csinálni csak időigényesebb
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
library(esquisse)
print("HelloWorld")
egy <- 1
kettő <- 2
harom <- egy + ketto
house <- read.csv("house_data.csv")
install.packages("readxl")
library(readxl)
mba <- read_excel("MBA.xlsx")
install.packages("readxl")
library(readxl)
mba <- read_excel("MBA.xlsx")
colnames(house)
str(house)
str(mba)
mba$Gender <- as.factor(mba$Gender)
str(mba)
#Faktor változóknál: table, plot
table(mba$Gender)
plot(mba$Gender)
#sűrjünk egy új adatbázisba a 250 négyzetméterár alatti lakásokat
house_szurt <- house %>%
filter(negyzetmeterar<250)
#sűrjünk egy új adatbázisba a 250 négyzetméterár alatti lakásokat
house_szurt <- house %>%
filter(negyzetmeterar<250)
mba_selected <- mba %>%
select(Gender,Result10)
#sűrjünk egy új adatbázisba a 250 négyzetméterár alatti lakásokat
house_szurt <- house %>%
filter(negyzetmeterar<250)
#sűrjünk egy új adatbázisba a 250 négyzetméterár alatti lakásokat
house_szurt <- house %>%
filter(negyzetmeterar<250)
mba_selected <- mba %>%
select(Gender,Result10)
#rename-nél: új név = régi név
house <- house %>%
rename(negyzetmeter = Square_Footage, ar = House_Price)
#új adatbázisba mentsük ki, hogy nememnként mekkora az átlagos eredmény (result10)
# group_by: csoportosításra jó (nem szerint)
# summarise: a többi
mba_selected <- mba %>%
select(Gender,Result10)
#sűrjünk egy új adatbázisba a 250 négyzetméterár alatti lakásokat
house_szurt <- house %>%
filter(negyzetmeterar<250)
house <- house %>%
mutate(negyzetmeterar = ar/negyzetmeter)
#rename-nél: új név = régi név
house <- house %>%
rename(negyzetmeter = Square_Footage, ar = House_Price)
#Numerikus változóknál: mean, hist
mean(house$House_Price)
meadin(house$House_Price)
#Numerikus változóknál: mean, hist
mean(house$House_Price)
median(house$House_Price)
hist(house$House_PRice)
#Numerikus változóknál: mean, hist
mean(house$House_Price)
median(house$House_Price)
hist(house$House_Price)
#rename-nél: új név = régi név
house <- house %>%
rename(negyzetmeter = Square_Footage, ar = House_Price)
#új adatbázisba mentsük ki, hogy nememnként mekkora az átlagos eredmény (result10)
# group_by: csoportosításra jó (nem szerint)
# summarise: a többi változó összetömmörítése
mba_nemenkent <- mba_selected %>%
group_by(Gender) %>%
summarze(mean(Result10))
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
library(esquisse)
print("HelloWorld")
#ez szöveg, ha nincs hashtag akkor kód lesz
setwd("/Users/betts.belenyesi/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/2.félév/ökonometria")
#/-re kell cserélni
#install.packages("dplyr")
#install.packages("ggplot2")
#install.packages("esquisse")
library(dplyr)
library(ggplot2)
library(esquisse)
print("HelloWorld")
egy <- 1
kettő <- 2
harom <- egy + ketto
#új adatbázisba mentsük ki, hogy nememnként mekkora az átlagos eredmény (result10)
# group_by: csoportosításra jó (nem szerint)
# summarise: a többi változó összetömmörítése
mba_nemenkent <- mba_selected %>%
group_by(Gender) %>%
summarze(mean(Result10))
mba_selected <- mba %>%
select(Gender,Result10)
#új adatbázisba mentsük ki, hogy nememnként mekkora az átlagos eredmény (result10)
# group_by: csoportosításra jó (nem szerint)
# summarise: a többi változó összetömmörítése
mba_nemenkent <- mba_selected %>%
group_by(Gender) %>%
summarze(mean(Result10))
#sűrjünk egy új adatbázisba a 250 négyzetméterár alatti lakásokat
house_szurt <- house %>%
filter(negyzetmeterar<250)
#rename-nél: új név = régi név
house <- house %>%
rename(negyzetmeter = Square_Footage, ar = House_Price)
house <- house %>%
mutate(negyzetmeterar = ar/negyzetmeter)
hist(house$negyzetmeterar)
#sűrjünk egy új adatbázisba a 250 négyzetméterár alatti lakásokat
house_szurt <- house %>%
filter(negyzetmeterar<250)
mba_selected <- mba %>%
select(Gender,Result10)
#új adatbázisba mentsük ki, hogy nememnként mekkora az átlagos eredmény (result10)
# group_by: csoportosításra jó (nem szerint)
# summarise: a többi változó összetömmörítése
mba_nemenkent <- mba_selected %>%
group_by(Gender) %>%
summarze(mean(Result10))
#új adatbázisba mentsük ki, hogy nememnként mekkora az átlagos eredmény (result10)
# group_by: csoportosításra jó (nem szerint)
# summarise: a többi változó összetömmörítése
mba_nemenkent <- mba_selected %>%
group_by(Gender) %>%
summarize(mean(Result10))
mba_selected2 <- mba %>%
select(Gender, Result10, Result12) %>%
group_by(Gender) %>%
summarize(Result10), max(Result12))
mba_selected2 <- mba %>%
select(Gender, Result10, Result12) %>%
group_by(Gender) %>%
summarize(mean(Result10), max(Result12))
ggplot(house) +
aes(x = negyzetmeter, y = ar) +
geom_point(colour = "blue") +
theme_minimal()
ggplot(house_data) +
aes(x =negyzetmeter, y = ar) +
geom_point(colour = "lightblue") +
labs(
x = "Alapterület (négyzetméter)",
y = "Ár",
title = "Alapterület és ár közti kapcsolat"
) +
theme_light() +
theme(
plot.title = element_text(size = 14L,
face = "bold",
hjust = 0.5)
) +
geom_smooth(method = "lm", colour = "red", size = 0.8)
ggplot(house) +
aes(x =negyzetmeter, y = ar) +
geom_point(colour = "lightblue") +
labs(
x = "Alapterület (négyzetméter)",
y = "Ár",
title = "Alapterület és ár közti kapcsolat"
) +
theme_light() +
theme(
plot.title = element_text(size = 14L,
face = "bold",
hjust = 0.5)
) +
geom_smooth(method = "lm", colour = "red", size = 0.8)
esquisse::esquisser()
#esquisse::esquisser() ezt hol tudom kimásolni?
esquisse::esquisser()
esquisse::esquisser()
library(ggplot2)
ggplot(mba) +
aes(x = Gender, y = MBA) +
geom_boxplot(fill = "#FF761A") +
theme_bw()
aggregated_data$guestreviewsrating <- gsub(" /5", "", aggregated_data$guestreviewsrating)
#1. A setwd paranccsal kijelölöm a mappa helyét, ahonnan el tudom érni az adatfájlokat és ahová el tudom menteni az eredményfájlokat az adattisztítás elvégzése után.
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/2.félév/ökonometria/hf - 1")
#2. Különböző packagek betöltése, amik szükségesek lesznek a feladat során, hogy adott parancsokat elő tudjak hívni.
library(tidyverse)
library(naniar)
#4 Az adatfájl betöltése R-be amivel dolgozni fogok a feladat során
hotels_data <- read.csv("hotelbookingdata.csv")
#1. Az adatok leszűréséhez a "filter" parancsot használtam, amely a hotels_data adattáblából leszűri azokat az adatsorokat, amelyek kifejezetten a Berlin-i hotelekre vonatkoznak. Ezeknek az adatoknak létrehoztam egy új adattáblát - filtered_data néven.
filtered_data <- hotels_data %>%
filter(city_actual == "Berlin")
#1. Ahhoz, hogy lássam az összes oszlopnevet és eldöntsem melyeket kéne átnevezzem, hogy logikusabb legyen számomra az elnevezés, a "colnames" paranccsal összegyűjtöm őket.
colnames(filtered_data)
#2. Számomra nem volt egyértelmű 3 oszlopnak az elnevezése, így a center1distance & center2label & center2distance oszlopokat átnevezetem, citicenter_distance & sightname & sight_distance nevű oszlopokra.
filtered_data <- filtered_data %>% mutate(citycenter_distance = as.factor(center1distance))
filtered_data<- filtered_data %>% mutate(sightname = as.factor(center2label))
filtered_data <- filtered_data %>% mutate(sight_distance = as.factor(center2distance))
#1. Létrehozok egy olyan adattáblát, amelyben csak a city_actual és s_city oszlopok szerepelnek, hogy megpróbáljam bebizonyítani a hipotézisem. Az oszlopok kiemelését a "select" paranccsal fogom véghezvinni.
hypothesis <- filtered_data %>%
select(city_actual, s_city)
#2. Az "identical" paranncsal megnézem, hogy a két oszlopomban megegyeznek-e az értékek és azonos sorrendben vannak-e. Ha lefuttatás után "TRUE" értéket kapok, akkor a két tábla megegyezik egymással.
identical(hypothesis$city_actual, hypothesis$s_city)
#3. Ha "FALSE" értéket kaptam volna, akkor "which" paranccsal meg tudtam volna nézni, hogy mely értékek nem egyeznek. De mivel megegyezett a két oszlop, ezért most ezt a parancsot nem hajtom végre.
#elteres <- which(hypothesis$city_actual != hypothesis$s_city)
#print(elteres)
#3. A "select" paranccsal kiválasztom azokat az oszlopokat, amelyek szükségesek és új sorrendbe rakom őket.
aggregated_data <- filtered_data %>%
select(addresscountryname, city_actual, neighbourhood, hotel_id, price, price_night, accommodationtype, citycenter_distance, sightname, sight_distance, offer, starrating, guestreviewsrating, rating_reviewcount, rating2_ta, rating2_ta_reviewcount, scarce_room, offer, offer_cat, year, month, weekend, holiday)
#4. Az adatok vizsgálata közben kijött, hogy az accommodationtype oszlop változó értékeinek elnevezése nem rögtön egyértelmű, így a "unique" paranccsal összegyűjtöm az összes változót az oszlopban, hogy könnyebben át tudjam nevezni őket.
accommodationtype <- unique(aggregated_data$accommodationtype)
print(accommodationtype)
#5. A 7 változómat leegyszerűsítés miatt "recode" paranccsal átnevezem.
aggregated_data$accommodationtype <- recode(aggregated_data$accommodationtype,
"_ACCOM_TYPE@Hotel" = "Hotel",
"_ACCOM_TYPE@Apart-hotel" = "Apart-hotel",
"_ACCOM_TYPE@Guest House" = "Guest House",
"_ACCOM_TYPE@Motel"   = " Motel",
"_ACCOM_TYPE@Pension"  = "Pension",
"_ACCOM_TYPE@Hostel" = "Hostel",
"_ACCOM_TYPE@Apartment" = "Apartment",)
#6. 4 változó esetén az is felmerült, hogy az az értékek nem numerikusak, mivel a számok mögött szöveg is található, így ezeknél a "gsub" paranccsal kiszedem a szövegeket és numerikussá vektorrá alakítom. A 4 oszlop amelyben változásokat fogok bevezetni a citycenter_distance & sight_distance & guestreviewsrating & offer_cat.
aggregated_data$citycenter_distance <- gsub(" miles| mile", "", aggregated_data$citycenter_distance)
aggregated_data$citycenter_distance <- as.numeric(aggregated_data$citycenter_distance)
aggregated_data$sight_distance <- gsub(" miles| mile", "", aggregated_data$sight_distance)
aggregated_data$sight_distance <- as.numeric(aggregated_data$sight_distance)
aggregated_data$guestreviewsrating <- gsub(" /5", "", aggregated_data$guestreviewsrating)
guestreviewsrating <- unique(aggregated_data$guestreviewsrating)
print(guestreviewsrating)
#Megjegyzés, valamiért nem tudtam a guestreviewsrating oszlopot numerikussá alakítani. Az alábbi üzenetet kaptam: Warning: NAs introduced by coercion.
aggregated_data$guestreviewsrating <- as.numeric(aggregated_data$guestreviewsrating)
aggregated_data$offer_cat <- gsub(" offer| no offer", "", aggregated_data$offer_cat)
#3. Megnézem, hogy a oszlopok milyen típusként vannak az adattáblában és ha kell javítok/kicserélem az értelmezésüket. Pl.: Ha egy numerikus változós oszlop karakter típusú, akkor numerikussá változtatom.
str(aggregated_data)
#4. Megnézem, hogy a változók milyen értékeket vehetnek fel és ha van megkötés, akkor azt is ellenőrzöm, hogy az értékek eleget tesznek-e a megkötéseknek. Az összes oszlopot a "summary" paranccsal ellenőrzöm.
summary(aggregated_data)
#Az offer oszlop esetén csak 0 és 1 értékek lehetnek, mivel a változó azt jelöli, hogy van-e ajánlat a szállodában vagy sem. 0 - nincs és 1 - van és a summary alapján megfelelnek az értékek. A scarce_room és holiday is hasonló.
#A starrating oszlop esetén 1-5-s skálán mozoghatnak az értékek. Az összegzés alapján az értékek megfelelnek ennek a kritériumnak, mivel a minimum értékként az 1-t és maximum értékként at 5-t emelte ki. A rating2_ta is hasonló ehhez.
#1. "is.na" paranccsal megnézem, hogy mely adatok hiányosak, viszont nem szeretném, hogy mind a 4333 megfigyelést egyesével leírja nekem, így az "any" paranccsal csak azt tudom meg hogy van-e hiányzó adat vagy sem. "TRUE" esetén van hiányzó adat, "FALSE" esertén minden adatunk megvan.
any(is.na(aggregated_data))
#Mivel "TRUE" értéket kaptam, ezért van hiányzó adat az adattáblában
#2. A "colSums" paranccsal összegyűjtöm melyik oszlopban vannak hiányzó adatok és mennyi.
colSums(is.na(aggregated_data))
#4 oszlopban is van hiányzó adatom, de mivel nem tudom az adatgyűjtés/adattisztítás célját, ezért ezeket a megfigyeléseket benne hagyom a táblában.
#1. Az adattáblában lévő adatokről a "summary" paranccsal összefoglalok alapvető tudnivalókat.
summary(aggregated_data)
#2. A "colSums(is.na)" paranccsal a hiányzó értékeket tudom ellenőrizni.
colSums(is.na(aggregated_data))
View(aggregated_data)
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt
install.packages("readxl")
library(readxl)
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt")
#install.packages("readxl")
library(readxl)
drug_data <- read.csv("hbsc_age-and-gender_2022_all__ mean mental well-being score (WHO-5).csv")
"
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt")
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt")
drug_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv")
library(readxl)
drug_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv")
drug_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv")
mental_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/GPS-66.xlsx")
school_data <- "~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/UDB_countries_2309_version.xlsx"
mental_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/GPS-66.xlsx")
school_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/UDB_countries_2309_version.xlsx")
drug_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv")
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt")
#install.packages("readxl")
library(readxl)
drug_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/GPS-66.xlsx")
mental_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv")
school_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/UDB_countries_2309_version.xlsx")
View(mental_data)
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt")
#install.packages("readxl")
library(readxl)
drug_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/GPS-66.xlsx")
mental_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv")
school_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/UDB_countries_2309_version.xlsx")
View(mental_data)
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt")
#install.packages("readxl")
library(readxl)
drug_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/GPS-66.xlsx")
mental_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv", sep = ",", header = TRUE))
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt")
#install.packages("readxl")
library(readxl)
drug_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/GPS-66.xlsx")
mental_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv", sep  ";", header = TRUE))
setwd("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt")
#install.packages("readxl")
library(readxl)
drug_data <- read_xlsx("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/GPS-66.xlsx")
mental_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv", sep =  ";", header = TRUE))
mental_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv", sep =  ";", header = TRUE))
mental_data <- read.csv("~/Documents/Documents - betts’s MacBook Air/rajk/kurzusok/3.félév/ökonometria/projekt/adatok/2022_all_mean.csv", sep =  ";", header = TRUE)
